---
emoji: "π¦‰"
title: "Expressμ™€ NestJSμ μμ΅΄μ„± κ΄€λ¦¬ μ°¨μ΄κΉμ§€ ν•λμ— μ΄ν•΄ν•κΈ°"
date: "2025-10-07"
categories: Backend
---

## 1. IoC (Inversion of Control)λ€?

#### κ°λ…
IoC (μ μ–΄μ μ—­μ „) μ€ κ°μ²΄μ μƒμ„±κ³Ό κ΄€λ¦¬ μ±…μ„μ„ κ°λ°μκ°€ μ•„λ‹ ν”„λ μ„μ›ν¬(λλ” μ»¨ν…μ΄λ„)κ°€ λ§΅λ” μ„¤κ³„ ν¨ν„΄μ…λ‹λ‹¤.
μ¦‰, μ• ν”λ¦¬μΌ€μ΄μ…μ μ μ–΄ νλ¦„μ„ ν”„λ μ„μ›ν¬κ°€ κ΄€λ¦¬ν•κ² λμ–΄,
κ°λ°μκ°€ μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•λ” λ€μ‹  ν”„λ μ„μ›ν¬κ°€ λ€μ‹  κ΄€λ¦¬ν•©λ‹λ‹¤.

#### λ©μ 

- κ²°ν•©λ„ κ°μ†: κµ¬μ„± μ”μ† κ°„ μμ΅΄μ„±μ„ μ¤„μ—¬ μ μ§€λ³΄μμ„±μ„ λ†’μ„
- μ μ—°μ„± ν–¥μƒ: κµ¬μ΅°κ°€ λμ¨ν•΄μ Έ ν™•μ¥μ„±κ³Ό μ¬μ‚¬μ©μ„±μ΄ ν–¥μƒλ¨
- ν…μ¤νΈ μ©μ΄μ„±: μ™Έλ¶€μ—μ„ μμ΅΄μ„±μ„ μ£Όμ…ν•  μ μμ–΄ Mocking ν…μ¤νΈκ°€ μ‰¬μ›μ§

--- 

## 2. DI (Dependency Injection) λ€?

#### κ°λ…
DI (μμ΅΄μ„± μ£Όμ…) μ€ IoCλ¥Ό κµ¬ν„ν•λ” λ€ν‘μ μΈ λ°©λ²•μ…λ‹λ‹¤.
μ¦‰, κ°μ²΄κ°€ ν•„μ”ν• μμ΅΄μ„±μ„ μ¤μ¤λ΅ μƒμ„±ν•μ§€ μ•κ³  μ™Έλ¶€μ—μ„ μ£Όμ…λ°›λ” λ°©μ‹μ…λ‹λ‹¤.


#### DIμ μ£Όμ” μ ν•
| μ ν•           | μ„¤λ…                   |
| ------------ | -------------------- |
| **μƒμ„±μ μ£Όμ…**   | κ°μ²΄ μƒμ„± μ‹μ μ— μμ΅΄μ„±μ„ μ£Όμ…    |
| **μ„Έν„° μ£Όμ…**    | μ„Έν„° λ©”μ„λ“λ¥Ό ν†µν•΄ μμ΅΄μ„± μ£Όμ…    |
| **μΈν„°νμ΄μ¤ μ£Όμ…** | μΈν„°νμ΄μ¤ λ©”μ„λ“λ¥Ό ν†µν•΄ μμ΅΄μ„± μ „λ‹¬ |

---

## 3. Express vs NestJS β€” IoCμ™€ DIμ μ°¨μ΄
### Express

#### IoC/DI λ―Έμ§€μ›
Expressλ” IoCμ™€ DIλ¥Ό κΈ°λ³Έμ μΌλ΅ μ κ³µν•μ§€ μ•μµλ‹λ‹¤.
μ¦‰, κ°λ°μκ°€ μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±ν•κ³  μ—°κ²°ν•΄μ•Ό ν•λ©°, ν…μ¤νΈ μ‹μ—λ„ μμ΅΄μ„±μ„ μλ™μΌλ΅ κµμ²΄ν•΄μ•Ό ν•©λ‹λ‹¤.

```ts
const express = require('express');
const app = express();

class UserService {
  getUser() {
    return { name: 'Alice', age: 25 };
  }
}

const userService = new UserService();

app.get('/user', (req, res) => {
  res.json(userService.getUser());
});

app.listen(3000);
```
#### λ¬Έμ μ : 
- κ°μ²΄ μƒμ„± λ° κ΄€λ¦¬ μ±…μ„μ΄ λ¨λ‘ κ°λ°μμ—κ² μμ
- ν…μ¤νΈν•  λ• μμ΅΄μ„±μ„ κµμ²΄ν•κ±°λ‚ Mockingν•κΈ° μ–΄λ ¤μ›€

### NestJS
#### IoC/DI μ§€μ›
NestJSλ” ν”„λ μ„μ›ν¬ μμ¤€μ—μ„ IoC μ»¨ν…μ΄λ„μ™€ DI μ‹μ¤ν…μ„ λ‚΄μ¥ν•κ³  μμµλ‹λ‹¤.
`@Injectable()` λ°μ½”λ μ΄ν„°λ¥Ό ν†µν•΄ μμ΅΄μ„±μ„ μ„ μ–Έν•κ³ , ν”„λ μ„μ›ν¬κ°€ μλ™μΌλ΅ κ°μ²΄λ¥Ό μ£Όμ…ν•©λ‹λ‹¤.

```ts
import { Injectable, Controller, Get } from '@nestjs/common';

@Injectable()
class UserService {
  getUser() {
    return { name: 'Alice', age: 25 };
  }
}

@Controller('user')
class UserController {
  constructor(private readonly userService: UserService) {}

  @Get()
  getUser() {
    return this.userService.getUser();
  }
}
```

#### μ¥μ :
- μλ™ μμ΅΄μ„± μ£Όμ…: NestJSκ°€ `UserService`λ¥Ό `UserController`μ— μλ™ μ—°κ²°
- κ²°ν•©λ„ κ°μ†: μ½”λ“ κ°„ μ—°κ²° κ΄€κ³„κ°€ λμ¨ν•΄μ Έ μ μ§€λ³΄μκ°€ μ‰¬μ›€
- ν…μ¤νΈ μ©μ΄μ„±: μ„λΉ„μ¤λ‚ λ¨λ“μ„ μ‰½κ² Mocking κ°€λ¥

---

## 4. IoCμ™€ DIκ°€ κ°€μ Έμ¤λ” μ΄μ 
| κµ¬λ¶„          | Express            | NestJS             |
| ----------- | ------------------ | ------------------ |
| **κ²°ν•©λ„**     | μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±ν•΄μ•Ό ν•λ―€λ΅ λ†’μ | ν”„λ μ„μ›ν¬κ°€ κ΄€λ¦¬ν•λ―€λ΅ λ‚®μ    |
| **μ μ—°μ„±**     | μμ΅΄μ„± κµμ²΄ μ‹ μ½”λ“ μμ • ν•„μ”  | μ„¤μ •λ§ λ³€κ²½ν•λ©΄ μμ΅΄μ„± κµμ²΄ κ°€λ¥ |
| **ν…μ¤νΈ μ©μ΄μ„±** | μλ™ Mocking ν•„μ”      | μλ™ μ£Όμ… κµ¬μ΅°λ΅ ν…μ¤νΈ μ©μ΄   |

---

## 5. ν•µμ‹¬ μ”μ•½
| κ°λ…               | μ„¤λ…                       | NestJSμ—μ„μ μ—­ν•                    |
| ---------------- | ------------------------ | ------------------------------ |
| **IoC (μ μ–΄μ μ—­μ „)** | κ°μ²΄μ μƒμ„±κ³Ό κ΄€λ¦¬ μ±…μ„μ„ ν”„λ μ„μ›ν¬κ°€ λ‹΄λ‹Ή | μ• ν”λ¦¬μΌ€μ΄μ…μ μ „λ°μ μΈ νλ¦„ μ μ–΄             |
| **DI (μμ΅΄μ„± μ£Όμ…)**  | κ°μ²΄μ μμ΅΄μ„±μ„ μ™Έλ¶€μ—μ„ μ£Όμ…         | `@Injectable()`κ³Ό μƒμ„±μ μ£Όμ…μ„ ν†µν•΄ κµ¬ν„ |
| **Express**      | κ°λ°μκ°€ μ§μ ‘ μμ΅΄μ„±μ„ μƒμ„± λ° κ΄€λ¦¬     | IoC/DI κµ¬μ΅° μ—†μ                   |
| **NestJS**       | ν”„λ μ„μ›ν¬κ°€ μλ™μΌλ΅ μμ΅΄μ„±μ„ κ΄€λ¦¬      | IoC μ»¨ν…μ΄λ„ λ‚΄μ—μ„ DI μλ™ μ²λ¦¬          |

---

## 6. κ²°λ΅ 
NestJSμ IoCμ™€ DIλ” λ‹¨μν• κΈ°μ  μ”μ†κ°€ μ•„λ‹λΌ, **μ μ§€λ³΄μμ„±κ³Ό ν™•μ¥μ„±μ„ κ·Ήλ€ν™”ν•λ” ν•µμ‹¬ μ„¤κ³„ μ² ν•™μ…λ‹λ‹¤.**

Expressκ°€ λΉ λ¥Έ ν”„λ΅ν† νƒ€μ΄ν•‘μ— κ°•μ μ΄ μλ‹¤λ©΄, NestJSλ” λ€κ·λ¨ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ„ν• κµ¬μ΅°μ  μ•μ •μ„±μ„ μ κ³µν•©λ‹λ‹¤.

